(this["webpackJsonpeco-rewards-admin"]=this["webpackJsonpeco-rewards-admin"]||[]).push([[0],{35:function(e,a,t){e.exports=t(69)},40:function(e,a,t){},41:function(e,a,t){},43:function(e,a,t){},49:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(28),c=t.n(r),s=(t(40),t(41),t(7)),m=t(8),o=t(9),i=t.n(o),d=t(13),u=t(11),E=(t(43),function(e){var a=e.auth,t=Object(m.g)(),r=(Object(m.h)().state||{from:{pathname:"/"}}).from,c=Object(n.useState)(""),s=Object(u.a)(c,2),o=s[0],E=s[1],h=Object(n.useState)(""),b=Object(u.a)(h,2),f=b[0],p=b[1],v=Object(n.useState)(""),N=Object(u.a)(v,2),g=N[0],w=N[1],y=function(){var e=Object(d.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a.login(f,g);case 3:a.isAuthenticated?t.replace(r):E("Unable to login, please try again.");case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return a.isAuthenticated&&t.replace(r),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},l.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"Login")),l.a.createElement("form",{className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control form-control-user",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Enter Email Address...",onChange:function(e){return p(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control form-control-user",id:"exampleInputPassword",placeholder:"Password",onChange:function(e){return w(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"custom-control custom-checkbox small"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"},"Remember Me"))),l.a.createElement("button",{className:"btn btn-primary btn-user btn-block",onClick:y},"Login")),o&&l.a.createElement("hr",null),o))))))))}),h=function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("h1",{className:"h3 mb-2 text-gray-800"},"Tables"),l.a.createElement("p",{className:"mb-4"},"DataTables is a third party plugin that is used to generate the demo table below. For more information about DataTables, please visit the ",l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://datatables.net"},"official DataTables documentation"),"."),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"DataTables Example")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-bordered",id:"dataTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Position"),l.a.createElement("th",null,"Office"),l.a.createElement("th",null,"Age"),l.a.createElement("th",null,"Start date"),l.a.createElement("th",null,"Salary"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Tiger Nixon"),l.a.createElement("td",null,"System Architect"),l.a.createElement("td",null,"Edinburgh"),l.a.createElement("td",null,"61"),l.a.createElement("td",null,"2011/04/25"),l.a.createElement("td",null,"$320,800")),l.a.createElement("tr",null,l.a.createElement("td",null,"Garrett Winters"),l.a.createElement("td",null,"Accountant"),l.a.createElement("td",null,"Tokyo"),l.a.createElement("td",null,"63"),l.a.createElement("td",null,"2011/07/25"),l.a.createElement("td",null,"$170,750"))))))))},b=(t(49),function(){return l.a.createElement("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},l.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"index.html"},l.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},l.a.createElement("i",{className:"fas fa-leaf"})),l.a.createElement("div",{className:"sidebar-brand-text mx-3"},"Eco Rewards Hub Admin")),l.a.createElement("hr",{className:"sidebar-divider my-0"}),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{className:"nav-link",to:"/"},l.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),l.a.createElement("span",null,"Dashboard"))),l.a.createElement("hr",{className:"sidebar-divider"}),l.a.createElement("div",{className:"sidebar-heading"},"Manage"),l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"/schemes"},l.a.createElement("i",{className:"fas fa-fw fa-folder"}),l.a.createElement("span",null,"Schemes"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"charts.html"},l.a.createElement("i",{className:"fas fa-fw fa-chart-area"}),l.a.createElement("span",null,"Organisations"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"charts.html"},l.a.createElement("i",{className:"fas fa-fw fa-chart-area"}),l.a.createElement("span",null,"Groups"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"charts.html"},l.a.createElement("i",{className:"fas fa-fw fa-chart-area"}),l.a.createElement("span",null,"Members"))),l.a.createElement("hr",{className:"sidebar-divider"}),l.a.createElement("div",{className:"sidebar-heading"},"Reports"),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"tables.html"},l.a.createElement("i",{className:"fas fa-fw fa-table"}),l.a.createElement("span",null,"Journeys"))))}),f=function(e){var a=e.auth;return l.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},l.a.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3"},l.a.createElement("i",{className:"fa fa-bars"})),l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item dropdown no-arrow"},l.a.createElement("a",{className:"dropdown-toggle",href:"/logout",onClick:function(e){e.preventDefault(),a.logout()},id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},"Logout"),l.a.createElement("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"})))))},p=function(){return l.a.createElement("footer",{className:"sticky-footer bg-white"},l.a.createElement("div",{className:"container my-auto"},l.a.createElement("div",{className:"copyright text-center my-auto"},l.a.createElement("span",null,"Copyright \xa9 Eco Rewards"))))},v=function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("h1",{className:"h3 mb-2 text-gray-800"},"Schemes"),l.a.createElement("p",{className:"mb-4"},"DataTables is a third party plugin that is used to generate the demo table below. For more information about DataTables, please visit the ",l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://datatables.net"},"official DataTables documentation"),"."),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"DataTables Example")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-bordered",id:"dataTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Tiger Nixon"),l.a.createElement("td",null,"System Architect")),l.a.createElement("tr",null,l.a.createElement("td",null,"Garrett Winters"),l.a.createElement("td",null,"Accountant"))))))))},N=function(e){var a=e.auth;return l.a.createElement("div",{id:"wrapper"},l.a.createElement(b,null),l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(f,{auth:a}),l.a.createElement(s.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/schemes"},l.a.createElement(v,null)),l.a.createElement(m.b,{path:"/"},l.a.createElement(h,null))))),l.a.createElement(p,null)))},g=t(30),w=function(e){var a=e.children,t=e.auth,n=Object(g.a)(e,["children","auth"]);return l.a.createElement(m.b,Object.assign({},n,{render:function(e){var n=e.location;return t.isAuthenticated?a:l.a.createElement(m.a,{to:{pathname:"/login",state:{from:n}}})}}))},y=t(31),k=t(32),x=t(34),j=function(){function e(a){Object(y.a)(this,e),this.api=a,this.cookie=void 0,this.setCookie=void 0,this.removeCookie=void 0;var t=Object(x.a)(["auth"]),n=Object(u.a)(t,3),l=n[0],r=n[1],c=n[2];this.cookie=l.auth,this.setCookie=r,this.removeCookie=c}return Object(k.a)(e,[{key:"login",value:function(){var e=Object(d.a)(i.a.mark((function e(a,t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/login",{username:a,password:t});case 3:n=e.sent,this.setCookie("auth",n.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.removeCookie("auth")}},{key:"isAuthenticated",get:function(){return this.cookie&&void 0!==this.cookie.token}}]),e}(),O=t(33),T=t.n(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(67),t(68);c.a.render(l.a.createElement((function(){var e=new j(T.a.create({baseURL:"https://api.ecorewards.co.uk"}));return l.a.createElement(s.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/login"},l.a.createElement(E,{auth:e})),l.a.createElement(w,{auth:e,path:"/"},l.a.createElement(N,{auth:e}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.83187b97.chunk.js.map